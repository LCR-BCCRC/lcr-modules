lcr-modules:
    
    igv:

        # TODO: Update the list of available wildcards, if applicable
        inputs:
            # Available wildcards: {seq_type} {genome_build} {sample_id}
            master_maf: # MAFs to draw sample_id and variants from

            regions_file: "__UPDATE__" # Path to a MAF, VCF, BED or BEDPE file containing regions of interest to create snapshots of.
            regions_format: "__UPDATE__"
            regions_build: "__UPDATE__" # Genome build of regions file, will be lifted over to filter MAFs on opposite genome builds

        test_run: False # Create only the filtered MAF, to get an estimate of how many snapshots will be taken

        filter_maf:
            oncodriveclustl_options: # These parameters will filter down the OncodriveCLUSTL cluster results file.
                p_value: # Desired q-value of OncodriveCLUSTL clusters
                score: # Desired scores of OncodriveCLUSTL clusters
                n_samples: # Desired number of samples in OncodriveCLUSTL clusters
            n_snapshots: 20 # Number of snapshots to take per unique variant position. Default is set to max (1000000).

        genome_map: # Map different builds in metadata
            grch37: ["grch37","hg19","hg19-clc","hg19-reddy","hs37d5"]
            hg38: ["hg38","hg38-nci","hg38-panea","grch38"]

        liftover_regions:
            reference_chain_file:
                grch37: "genomes/grch37/chains/grch37/hg19ToHg38.over.chain"
                hg38: "genomes/hg38/chains/grch38/hg38ToHg19.over.chain"
            target_reference:
                grch37: "/projects/rmorin/reference/igenomes/Homo_sapiens/GSC/GRCh37-lite/Sequence/WholeGenomeFasta/genome.fa"
                hg38: "/projects/rmorin/reference/igenomes/Homo_sapiens/GSC/GRCh37-lite/Sequence/WholeGenomeFasta/genome.fa"

        generate_batch_script:
            padding: 300
            max_height: 400
            batch_script_per_sample: # True/False. Default is False. If True, a batch script will be created to accompany each snapshot for easy access in IGV.

        scripts:
            format_regions: "etc/format_regions.py"
            filter_script: "etc/filter_maf.py"
            region_liftover_script: "{MODSDIR}/etc/liftover_regions.sh"
            batch_script: "etc/generate_batch_scripts.py"

        scratch_subdirectories: []

        options:
            step_1: ""
            step_2: ""

        conda_envs:
            liftover_regions: "{MODSDIR}/envs/crossmap.yaml"
            batch_script: "{MODSDIR}/envs/samtools-1.9.yaml"
            wget: "{REPODIR}/envs/wget/wget-1.20.1.yaml"
            
        threads:
            step_1: 4

        resources:
            step_1: 
                mem_mb: 2000
            
        pairing_config:
            genome:
                run_paired_tumours: False
                run_unpaired_tumours_with: "no_normal"
                run_paired_tumours_as_unpaired: False
            capture:
                run_paired_tumours: False
                run_unpaired_tumours_with: "no_normal"
                run_paired_tumours_as_unpaired: False
