Some samples have seq_types {'capture'} that are not configured in the pairing config for the star module. They will be excluded from the analysis.
Building DAG of jobs...
Executing subworkflow reference_files.
Creating specified working directory /projects/clc/clc_scratch/projects/hwinata/dev-modules/lcr-modules/demo/reference.
localrules directive specifies rules that are not present in the Snakefile:
	download_chrom_mappings

Building DAG of jobs...
Conda environment /projects/clc/clc_scratch/projects/hwinata/dev-modules/lcr-modules/workflows/reference_files/1.0/envs/star-2.7.3a.yaml will be created.
Conda environment /projects/clc/clc_scratch/projects/hwinata/dev-modules/lcr-modules/workflows/reference_files/1.0/envs/samtools-1.9.yaml will be created.
Conda environment /projects/clc/clc_scratch/projects/hwinata/dev-modules/lcr-modules/workflows/reference_files/1.0/envs/cvbio-3.0.0.yaml will be created.
Job counts:
	count	jobs
	1	create_star_index
	1	download_gencode_annotation
	1	download_genome_fasta
	1	download_main_chromosomes
	1	get_gencode_download
	1	get_genome_fasta_download
	1	get_main_chromosomes_download
	2	hardlink_download
	1	index_genome_fasta
	2	update_contig_names
	12

[Thu Jun  4 09:48:22 2020]
localrule download_genome_fasta:
    output: downloads/genome_fasta/grch37.fa
    log: downloads/genome_fasta/grch37.fa.log
    jobid: 5
    reason: Missing output files: downloads/genome_fasta/grch37.fa
    wildcards: genome_build=grch37

curl -L https://www.bcgsc.ca/downloads/lcr-modules/genome_fastas/grch37.fa > downloads/genome_fasta/grch37.fa 2> downloads/genome_fasta/grch37.fa.log && chmod a-w downloads/genome_fasta/grch37.fa

[Thu Jun  4 09:48:22 2020]
localrule download_main_chromosomes:
    input: chrom_mappings/GRCh37_ensembl2ucsc.txt
    output: downloads/main_chromosomes/main_chromosomes.grch37.txt
    jobid: 11
    reason: Missing output files: downloads/main_chromosomes/main_chromosomes.grch37.txt
    wildcards: version=grch37

egrep -w "^(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|X|Y|MT)" chrom_mappings/GRCh37_ensembl2ucsc.txt | cut -f1 > downloads/main_chromosomes/main_chromosomes.grch37.txt && chmod a-w downloads/main_chromosomes/main_chromosomes.grch37.txt

[Thu Jun  4 09:48:22 2020]
localrule download_gencode_annotation:
    output: downloads/gencode-33/gencode.annotation.grch37.gtf
    jobid: 10
    reason: Missing output files: downloads/gencode-33/gencode.annotation.grch37.gtf
    wildcards: gencode_release=33, version=grch37

[Thu Jun  4 09:48:22 2020]
localrule get_genome_fasta_download:
    input: downloads/genome_fasta/grch37.fa
    output: genomes/grch37/genome_fasta/genome.fa
    jobid: 1
    reason: Missing output files: genomes/grch37/genome_fasta/genome.fa; Input files updated by another job: downloads/genome_fasta/grch37.fa
    wildcards: genome_build=grch37

ln -f downloads/genome_fasta/grch37.fa genomes/grch37/genome_fasta/genome.fa

[Thu Jun  4 09:48:22 2020]
localrule update_contig_names:
    input: downloads/main_chromosomes/main_chromosomes.grch37.txt
    output: downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt
    log: downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt.log
    jobid: 9
    reason: Missing output files: downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt; Input files updated by another job: downloads/main_chromosomes/main_chromosomes.grch37.txt
    wildcards: parent_dir=main_chromosomes, prefix=main_chromosomes, version=grch37, to_provider=ensembl, ext=txt

if [[ 'ensembl' == 'ensembl' ]]; then ln -f downloads/main_chromosomes/main_chromosomes.grch37.txt downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt; else cvbio UpdateContigNames --in downloads/main_chromosomes/main_chromosomes.grch37.txt --out downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt --mapping chrom_mappings/GRCh37_ensembl2ensembl.txt --comment-chars '#' --columns 0 --skip-missing false --delimiter '	' > downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt.log 2>&1 && chmod a-w downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt; fi

[Thu Jun  4 09:48:22 2020]
localrule update_contig_names:
    input: downloads/gencode-33/gencode.annotation.grch37.gtf
    output: downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf
    log: downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf.log
    jobid: 8
    reason: Missing output files: downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf; Input files updated by another job: downloads/gencode-33/gencode.annotation.grch37.gtf
    wildcards: parent_dir=gencode-33, prefix=gencode.annotation, version=grch37, to_provider=ensembl, ext=gtf

if [[ 'ensembl' == 'ucsc' ]]; then ln -f downloads/gencode-33/gencode.annotation.grch37.gtf downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf; else cvbio UpdateContigNames --in downloads/gencode-33/gencode.annotation.grch37.gtf --out downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf --mapping chrom_mappings/GRCh37_ucsc2ensembl.txt --comment-chars '#' --columns 0 --skip-missing false --delimiter '	' > downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf.log 2>&1 && chmod a-w downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf; fi

[Thu Jun  4 09:48:22 2020]
localrule hardlink_download:
    input: downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf
    output: genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf
    jobid: 4
    reason: Missing output files: genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf; Input files updated by another job: downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf
    wildcards: genome_build=grch37, suffix=gencode-33/gencode.annotation.grch37.gtf

ln -f downloads/gencode-33/gencode.annotation.grch37.ensembl.gtf genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf

[Thu Jun  4 09:48:22 2020]
localrule hardlink_download:
    input: downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt
    output: genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt
    jobid: 6
    reason: Missing output files: genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt; Input files updated by another job: downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt
    wildcards: genome_build=grch37, suffix=main_chromosomes/main_chromosomes.grch37.txt

ln -f downloads/main_chromosomes/main_chromosomes.grch37.ensembl.txt genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt

[Thu Jun  4 09:48:22 2020]
localrule index_genome_fasta:
    input: genomes/grch37/genome_fasta/genome.fa
    output: genomes/grch37/genome_fasta/genome.fa.fai
    log: genomes/grch37/genome_fasta/genome.fa.fai.log
    jobid: 7
    reason: Missing output files: genomes/grch37/genome_fasta/genome.fa.fai; Input files updated by another job: genomes/grch37/genome_fasta/genome.fa
    wildcards: genome_build=grch37

samtools faidx genomes/grch37/genome_fasta/genome.fa > genomes/grch37/genome_fasta/genome.fa.fai.log 2>&1 && chmod a-w genomes/grch37/genome_fasta/genome.fa.fai

[Thu Jun  4 09:48:22 2020]
localrule create_star_index:
    input: genomes/grch37/genome_fasta/genome.fa, genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf
    output: genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99
    log: genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99/log
    jobid: 3
    reason: Missing output files: genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99; Input files updated by another job: genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf, genomes/grch37/genome_fasta/genome.fa
    wildcards: genome_build=grch37, star_version=2.7.3a, gencode_release=33, star_overhang=99

STAR --runThreadN 1 --runMode genomeGenerate --genomeDir genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99 --genomeFastaFiles genomes/grch37/genome_fasta/genome.fa --sjdbOverhang 99 --sjdbGTFfile genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf --outTmpDir genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99/_STARtmp > genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99/log 2>&1 --outFileNamePrefix genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99/ && find genomes/grch37/star_index/star-2.7.3a/gencode-33/overhang-99 -type f -exec chmod a-w {} \;

[Thu Jun  4 09:48:22 2020]
localrule get_gencode_download:
    input: genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf
    output: genomes/grch37/annotations/gencode_annotation-33.gtf
    jobid: 0
    reason: Missing output files: genomes/grch37/annotations/gencode_annotation-33.gtf; Input files updated by another job: genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf
    wildcards: genome_build=grch37, gencode_release=33

ln -f genomes/grch37/downloads/gencode-33/gencode.annotation.grch37.gtf genomes/grch37/annotations/gencode_annotation-33.gtf

[Thu Jun  4 09:48:22 2020]
localrule get_main_chromosomes_download:
    input: genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt, genomes/grch37/genome_fasta/genome.fa.fai
    output: genomes/grch37/genome_fasta/main_chromosomes.txt, genomes/grch37/genome_fasta/main_chromosomes.bed, genomes/grch37/genome_fasta/main_chromosomes.patterns.txt
    jobid: 2
    reason: Missing output files: genomes/grch37/genome_fasta/main_chromosomes.bed; Input files updated by another job: genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt, genomes/grch37/genome_fasta/genome.fa.fai
    wildcards: genome_build=grch37

sed 's/^/^/' genomes/grch37/downloads/main_chromosomes/main_chromosomes.grch37.txt > genomes/grch37/genome_fasta/main_chromosomes.patterns.txt && egrep -w -f genomes/grch37/genome_fasta/main_chromosomes.patterns.txt genomes/grch37/genome_fasta/genome.fa.fai | cut -f1 > genomes/grch37/genome_fasta/main_chromosomes.txt && egrep -w -f genomes/grch37/genome_fasta/main_chromosomes.patterns.txt genomes/grch37/genome_fasta/genome.fa.fai | awk 'BEGIN {FS=OFS="	"} {print $1,  0, $2}' > genomes/grch37/genome_fasta/main_chromosomes.bed && chmod a-w genomes/grch37/genome_fasta/main_chromosomes.txt genomes/grch37/genome_fasta/main_chromosomes.bed
Job counts:
	count	jobs
	1	create_star_index
	1	download_gencode_annotation
	1	download_genome_fasta
	1	download_main_chromosomes
	1	get_gencode_download
	1	get_genome_fasta_download
	1	get_main_chromosomes_download
	2	hardlink_download
	1	index_genome_fasta
	2	update_contig_names
	12
This was a dry-run (flag -n). The order of jobs does not reflect the order of execution.
Executing main workflow.
Conda environment ../modules/utils/1.0/envs/samtools-1.9.yaml will be created.
WorkflowError:
Conda env file does not exist: /projects/clc/clc_scratch/projects/hwinata/dev-modules/lcr-modules/modules/strelka/1.0/envs/samtools-1.9.yaml
  File "/projects/clc/usr/anaconda/workflow_prototype/lib/python3.7/site-packages/snakemake/deployment/conda.py", line 202, in create
  File "/projects/clc/usr/anaconda/workflow_prototype/lib/python3.7/site-packages/snakemake/deployment/conda.py", line 85, in hash
  File "/projects/clc/usr/anaconda/workflow_prototype/lib/python3.7/site-packages/snakemake/deployment/conda.py", line 70, in content
  File "/projects/clc/usr/anaconda/workflow_prototype/lib/python3.7/site-packages/snakemake/deployment/conda.py", line 41, in content
